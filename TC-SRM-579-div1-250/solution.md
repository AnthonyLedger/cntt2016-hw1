# UndoHistory
作者：闫书弈

关键词：字符串 贪心
## 题目简述
你有一个编辑器，分为三个部分：文本缓冲区，结果窗口和撤销历史记录。文本缓冲区包含一个字符串（初始为空），结果窗口和撤销历史记录包含一个字符串序列（初始为空）。

你可以进行以下三种操作：

(1)在文本缓冲区中的字符串末尾添加一个字母，并将**新字符串**加入到撤销历史记录的末尾。代价为1。

(2)将文本缓冲区中的字符串加入到结果窗口的末尾，同时**文本缓冲区不会改变**。代价为1。

(3)将文本缓冲区中的字符串修改为撤销历史记录中的一个指定字符串。代价为2。

给定最终的结果窗口，你需要求出最小代价。
## 解法
依次考虑每个字符串如何构造出来。

(1)使用操作3。那么一定会撤销到先前出现过的最长前缀，然后一直使用操作1。

(2)不使用操作3。那么一定是从上一个字符串一直使用操作1(此时要求上一个字符串是这个字符串的前缀)。

由于这两种方法产生的撤销历史记录是等价的，直接贪心选取最优的即可。
