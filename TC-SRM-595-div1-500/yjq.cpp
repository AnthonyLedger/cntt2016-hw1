#include<bits/stdc++.h>
using namespace std;const int MAXN=3010;int n,m;int dp[MAXN][MAXN];bool f[MAXN][MAXN];int tmp[MAXN],a[MAXN],s[MAXN];typedef long long LL;class LittleElephantAndRGB{public:int Calc(int a,int b){if(f[a][b])return dp[a][b];f[a][b]=1;if(a==n||(a+m-b-1)>=n)return dp[a][b]=0;dp[a][b]=0;if(s[a+m-b-1]-s[a-1]==m-b)dp[a][b]+=n-max(a,a+m-b-1);else dp[a][b]+=n-tmp[a];dp[a][b]+=Calc(a+1,b);return dp[a][b];}LL getNumber(vector<string>list,int green){m=green;LL ans=0;static int k=list.size(),a[MAXN];for(int i=0;i<k;i++){for(int j=0;j<list[i].length();j++){a[n]=0;if(list[i][j]=='G')a[n]=1;n++;}}s[0]=a[0];for(int i=1;i<n;i++)s[i]=s[i-1]+a[i];tmp[n]=n;for(int i=n-1;i>=0;i--){tmp[i]=n;if(i+m-1<n){if(s[i+m-1]-s[i-1]==m)tmp[i]=i+m-1;else tmp[i]=tmp[i+1];}}memset(f,0,sizeof(f));for(int i=0;i<n-1;i++){int len=0,flag=1;for(int j=i;j>=0;j--){if(a[j]&&flag&&len<m)len++;else flag=0;if(tmp[j]<=i)len=m;ans+=Calc(i+1,len);}}return ans;}};
