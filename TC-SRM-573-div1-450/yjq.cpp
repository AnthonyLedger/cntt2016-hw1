#include<bits/stdc++.h>
#define INF (1LL<<60)
using namespace std;typedef long long LL;const int MAXN=60;bool vis[MAXN][MAXN];LL dis[MAXN][MAXN];pair<int,int>que[MAXN*MAXN*MAXN*MAXN];class SkiResorts{public:LL minCost(vector<string>road,vector<int>h){int n=road.size();for(int i=0;i<n;i++){for(int j=0;j<n;j++)dis[i][j]=INF;}int l=0,r=1;for(int i=0;i<n;i++){if(h[i]>=h[0]){dis[0][i]=h[i]-h[0];vis[0][i]=true;que[r++]=make_pair(0,i);}}for(;l<r;l++){int p=que[l].first,q=que[l].second;for(int i=0;i<n;i++){if(road[p][i]=='Y'){for(int j=0;j<n;j++){if(h[j]>h[q])continue;int w=abs(h[i]-h[j]);if(dis[p][q]+w<dis[i][j]){dis[i][j]=dis[p][q]+w;if(!vis[i][j])vis[i][j]=true,que[r++]=make_pair(i,j);}}}}vis[p][q]=false;}LL ans=INF;for(int i=0;i<n;i++)ans=min(ans,dis[n-1][i]);return ans<INF?ans:-1;}};
