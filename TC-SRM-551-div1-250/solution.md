# ColorfulChocolates  
作者：罗哲正

关键词：枚举
## 题目简述
一列$$n$$个巧克力，第$$i$$个巧克力的颜色为$$chocolate[i]$$。
你可以进行不超过$$maxSwaps$$次操作，每次操作为交换相邻两个巧克力的位置。
最大化这一列巧克力的伸展度，伸展度的定义为最长连续同色巧克力区间内的巧克力数目。

$$1 \leq n \leq 50;1 \leq maxSwaps \leq 2500$$。
##算法
注意到$$n$$的数据范围只有$$50$$，我们不妨枚举一种颜色$$c$$，并用颜色为$$c$$的巧克力来构成连续同色区间。
由于交换相同颜色的巧克力是没有意义的，同色巧克力之间的相对顺序不会改变。于是如果我们把所有颜色为$$c​$$的巧克力拿出来排成一列，一定是其中某个子段段组成了最后的连续同色巧克力区间。
我们接着枚举这个子段并考虑能否使用不超过$$maxSwaps$$次操作把他们聚集到一起。
先考虑一个显然的结论：这个子段中至少有一个巧克力没有改变位置。
考虑若所有的巧克力都改变了位置，那么我们把最后的连续同色巧克力区间往左或右移动$$1$$个位置，至少有一种移动会使得交换次数不增大，而移动后的区间一定和初始区间有交集。实际上，中位数位置的巧克力不改变其位置是最优解。
那么我们从小到大枚举不改变位置的巧克力，并维护需要的交换次数$$\sum |init\_pos_i - final\_pos_i|$$即可。
颜色枚举量为$$alphabet=26$$，区间枚举量为$$O(n^2)$$，不变巧克力枚举量为$$O(n)$$。
于是时间复杂度就是$$O(26n^3)$$。
##总结
要善于使用枚举法来发挥计算机的长处，很多时候数学推导出得出的结论不如一两个for循环来的精妙。